<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Agent Framework - Process Flow</title>
    
    <!-- Mermaid JS for Flowchart -->
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
    <script>
        mermaid.initialize({ 
            startOnLoad: true,
            theme: 'default',
            flowchart: {
                useMaxWidth: true,
                htmlLabels: true,
                curve: 'basis',
                padding: 20
            }
        });
    </script>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        
        .container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            padding: 40px;
            max-width: 1600px;
            width: 100%;
        }
        
        .header {
            text-align: center;
            margin-bottom: 40px;
        }
        
        .header h1 {
            color: #667eea;
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        
        .header p {
            color: #666;
            font-size: 1.2em;
        }
        
        .flowchart-container {
            background: #f8f9fa;
            padding: 40px;
            border-radius: 15px;
            box-shadow: inset 0 2px 10px rgba(0,0,0,0.05);
        }
        
        .mermaid {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .legend {
            margin-top: 30px;
            padding: 20px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .legend h3 {
            color: #667eea;
            margin-bottom: 15px;
            font-size: 1.3em;
        }
        
        .legend-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            padding: 10px;
            background: #f8f9fa;
            border-radius: 8px;
        }
        
        .legend-box {
            width: 40px;
            height: 40px;
            border-radius: 5px;
            margin-right: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5em;
        }
        
        .legend-box.input { background: #667eea; color: white; }
        .legend-box.server { background: #ff6b6b; color: white; }
        .legend-box.agent { background: #4ecdc4; color: white; }
        .legend-box.prompts { background: #ffe66d; }
        .legend-box.llm { background: #95e1d3; }
        .legend-box.output { background: #a8e6cf; }
        .legend-box.report { background: #51cf66; color: white; }
        
        .legend-text {
            flex: 1;
        }
        
        .legend-text strong {
            display: block;
            color: #333;
            margin-bottom: 3px;
        }
        
        .legend-text small {
            color: #666;
            font-size: 0.85em;
        }
        
        .footer {
            margin-top: 30px;
            text-align: center;
            color: #666;
            font-size: 0.9em;
        }
        
        @media print {
            body {
                background: white;
            }
            .container {
                box-shadow: none;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ¤– AI Agent Framework</h1>
            <p>Process Flow Architecture</p>
        </div>
        
        <div class="flowchart-container">
            <div class="mermaid">
graph TB
    %% Top: Input Layer
    Input["ğŸ–¥ï¸ INPUT AREA<br/>(GUI Interface)<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>Test ID Entry<br/>Voice Commands<br/>Settings Control"]
    
    %% Center: AI Agent Framework
    Agent["ğŸ¤– AI-AGENT FRAMEWORK<br/>(Core Intelligence)<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>â€¢ RAG System<br/>â€¢ LangChain Coordinator<br/>â€¢ LangGraph Workflow<br/>â€¢ Vision System (OCR/Template/AI)<br/>â€¢ Decision Engine<br/>â€¢ 10-Attempt Strategy"]
    
    %% Left: Server/Database
    Server["ğŸ“Š SERVER<br/>(Database)<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>Test Case Storage<br/>Excel Sheets<br/>â€¢ HVAC Tests<br/>â€¢ Media Tests<br/>â€¢ Navigation Tests"]
    
    %% Right: LLM Model
    LLM["ğŸ§  LLM MODEL<br/>(Reasoning Engine)<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>LLaMA 3.1 13B<br/>Moondream2<br/>Ollama Server<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>â€¢ Natural Language<br/>â€¢ Vision Analysis<br/>â€¢ Decision Making"]
    
    %% Knowledge Base
    Prompts["ğŸ“š PROMPTS<br/>(Knowledge Base & Learning)<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>Vector Database (ChromaDB)<br/>Embedded Prompts<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>â€¢ Base Instructions<br/>â€¢ Component Knowledge<br/>â€¢ Error Solutions<br/>â€¢ Learned Cases<br/>â€¢ RAG Retrieval"]
    
    %% Bottom: Output Layer
    Output["ğŸ“± OUTPUT<br/>(Device Control)<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>ADB Commands<br/>Screen Actions<br/>â€¢ Tap<br/>â€¢ Swipe<br/>â€¢ Input Text"]
    
    %% Report Generation
    Report["ğŸ“Š GENERATED REPORT & RESULTS<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>Excel Report with Screenshots<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>âœ… Pass/Fail Verdicts<br/>ğŸ“¸ Step Screenshots<br/>â±ï¸ Execution Time<br/>ğŸ§  AI Reasoning<br/>ğŸ“ˆ Test Statistics"]
    
    %% Flow: Input to Agent
    Input -->|"1. Test ID<br/>User Input"| Agent
    
    %% Flow: Server to Agent (bidirectional)
    Server <-->|"2. Load Test Cases<br/>3. Test Steps<br/>â”â”â”â”â”â”â”â”â”â”<br/>4. Return Data"| Agent
    
    %% Flow: Agent to Prompts (bidirectional)
    Agent <-->|"5. Query Context<br/>6. RAG Retrieval<br/>â”â”â”â”â”â”â”â”â”â”<br/>7. Relevant Knowledge<br/>8. Save Learned Solutions"| Prompts
    
    %% Flow: Agent to LLM (bidirectional)
    Agent <-->|"9. Send Prompt + Screenshot<br/>10. Context + Query<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>11. AI Decision<br/>12. Action Plan<br/>13. Reasoning"| LLM
    
    %% Flow: Agent to Output
    Agent -->|"14. Execute Action<br/>ADB Commands"| Output
    
    %% Flow: Output to Report
    Output -->|"15. Capture Results<br/>Screenshots"| Report
    
    %% Flow: Report back to GUI
    Report -->|"16. Display<br/>Results"| Input
    
    %% Styling
    classDef inputStyle fill:#667eea,stroke:#333,stroke-width:3px,color:#fff,font-weight:bold
    classDef serverStyle fill:#ff6b6b,stroke:#333,stroke-width:3px,color:#fff,font-weight:bold
    classDef agentStyle fill:#4ecdc4,stroke:#333,stroke-width:4px,color:#000,font-weight:bold
    classDef promptsStyle fill:#ffe66d,stroke:#333,stroke-width:3px,color:#000,font-weight:bold
    classDef llmStyle fill:#95e1d3,stroke:#333,stroke-width:3px,color:#000,font-weight:bold
    classDef outputStyle fill:#a8e6cf,stroke:#333,stroke-width:3px,color:#000,font-weight:bold
    classDef reportStyle fill:#51cf66,stroke:#333,stroke-width:3px,color:#fff,font-weight:bold
    
    class Input inputStyle
    class Server serverStyle
    class Agent agentStyle
    class Prompts promptsStyle
    class LLM llmStyle
    class Output outputStyle
    class Report reportStyle
            </div>
        </div>
        
        <div class="legend">
            <h3>ğŸ“‹ Component Details</h3>
            <div class="legend-grid">
                <div class="legend-item">
                    <div class="legend-box input">ğŸ–¥ï¸</div>
                    <div class="legend-text">
                        <strong>Input Area (GUI)</strong>
                        <small>User interface for test execution control</small>
                    </div>
                </div>
                
                <div class="legend-item">
                    <div class="legend-box server">ğŸ“Š</div>
                    <div class="legend-text">
                        <strong>Server (Database)</strong>
                        <small>Test case storage in Excel sheets</small>
                    </div>
                </div>
                
                <div class="legend-item">
                    <div class="legend-box agent">ğŸ¤–</div>
                    <div class="legend-text">
                        <strong>AI-Agent Framework</strong>
                        <small>Central intelligence with RAG, LangChain, LangGraph</small>
                    </div>
                </div>
                
                <div class="legend-item">
                    <div class="legend-box prompts">ğŸ“š</div>
                    <div class="legend-text">
                        <strong>Prompts (Knowledge Base)</strong>
                        <small>Vector DB with embedded knowledge & learning</small>
                    </div>
                </div>
                
                <div class="legend-item">
                    <div class="legend-box llm">ğŸ§ </div>
                    <div class="legend-text">
                        <strong>LLM Model</strong>
                        <small>LLaMA 13B & Moondream2 for reasoning</small>
                    </div>
                </div>
                
                <div class="legend-item">
                    <div class="legend-box output">ğŸ“±</div>
                    <div class="legend-text">
                        <strong>Output (Device Control)</strong>
                        <small>ADB commands for device interaction</small>
                    </div>
                </div>
                
                <div class="legend-item">
                    <div class="legend-box report">ğŸ“Š</div>
                    <div class="legend-text">
                        <strong>Generated Report & Results</strong>
                        <small>Excel reports with screenshots and verdicts</small>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="footer">
            <p><strong>Neural AI Agent Framework v2.0</strong> | Scriptless Automotive Testing</p>
            <p>Created by: Veera Saravanan | Â© 2025</p>
        </div>
    </div>
</body>
</html>
